2024-08-11 21:50:19,966 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-08-11 21:50:19,966 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-08-11 21:50:19,966 - INFO - Scheduler started
2024-08-11 21:50:22,223 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-08-11 21:50:22,224 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-08-11 21:50:22,224 - INFO - Scheduler started
2024-08-11 21:50:22,244 - INFO - Watching for file changes with StatReloader
2024-08-11 21:51:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 21:51:00 BST)" (scheduled at 2024-08-11 21:51:00+01:00)
2024-08-11 21:51:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 21:56:00 BST)" (scheduled at 2024-08-11 21:51:00+01:00)
2024-08-11 21:51:00,243 - INFO - The input start time: 2024-08-11 20:00:00
2024-08-11 21:51:01,902 - INFO - The input start time: 2024-08-11 20:00:00
2024-08-11 21:51:30,160 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 21:56:00 BST)" executed successfully
2024-08-11 21:51:42,658 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 21:56:00 BST)" executed successfully
2024-08-11 21:52:58,947 - WARNING - Not Found: /news/get-news/images/favicon.ico
2024-08-11 21:53:08,728 - WARNING - Not Found: /ml_models/ml-news-model/images/favicon.ico
2024-08-11 21:56:00,011 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 22:01:00 BST)" (scheduled at 2024-08-11 21:56:00+01:00)
2024-08-11 21:56:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 22:01:00 BST)" (scheduled at 2024-08-11 21:56:00+01:00)
2024-08-11 21:56:00,015 - INFO - The input start time: 2024-08-11 20:00:00
2024-08-11 21:56:00,090 - INFO - The input start time: 2024-08-11 20:00:00
2024-08-11 21:56:00,921 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 22:01:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 165, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-08-11 21:56:24,411 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-08-11 22:01:00 BST)" executed successfully
2024-09-01 09:45:01,251 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-01 09:45:01,252 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-01 09:45:01,252 - INFO - Scheduler started
2024-09-01 09:45:03,382 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-01 09:45:03,383 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-01 09:45:03,383 - INFO - Scheduler started
2024-09-01 09:45:03,404 - INFO - Watching for file changes with StatReloader
2024-09-01 09:45:09,430 - WARNING - Not Found: /images/favicon.ico
2024-09-01 09:45:22,294 - WARNING - Bad Request: /api/users/register/
2024-09-01 09:45:31,112 - WARNING - Bad Request: /api/users/register/
2024-09-01 09:45:32,504 - WARNING - Bad Request: /api/users/register/
2024-09-01 09:45:48,694 - WARNING - Unauthorized: /api/users/profile/
2024-09-01 09:46:00,010 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 09:46:00 BST)" (scheduled at 2024-09-01 09:46:00+01:00)
2024-09-01 09:46:00,010 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 09:46:00 BST)" (scheduled at 2024-09-01 09:46:00+01:00)
2024-09-01 09:46:00,254 - INFO - The input start time: 2024-09-01 08:00:00
2024-09-01 09:46:00,255 - INFO - The input start time: 2024-09-01 08:00:00
2024-09-01 09:46:03,707 - WARNING - Unauthorized: /api/users/
2024-09-01 09:46:24,588 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 09:51:00 BST)" executed successfully
2024-09-01 09:46:25,620 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 09:51:00 BST)" executed successfully
2024-09-01 20:40:58,859 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-01 20:40:58,859 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-01 20:40:58,859 - INFO - Scheduler started
2024-09-01 20:41:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 20:41:00 BST)" (scheduled at 2024-09-01 20:41:00+01:00)
2024-09-01 20:41:00,223 - INFO - The input start time: 2024-09-01 19:00:00
2024-09-01 20:41:01,015 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-01 20:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-01 20:41:01,111 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-01 20:41:01,111 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-01 20:41:01,111 - INFO - Scheduler started
2024-09-01 20:41:01,130 - INFO - Watching for file changes with StatReloader
2024-09-01 20:41:12,006 - WARNING - Not Found: /images/favicon.ico
2024-09-01 20:41:18,547 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-01 20:41:20,014 - WARNING - Not Found: /login/images/favicon.ico
2024-09-01 20:41:33,917 - WARNING - Not Found: /account/images/favicon.ico
2024-09-01 20:41:37,295 - WARNING - Not Found: /tickers/update-ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-01 20:41:44,081 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-01 20:41:49,501 - WARNING - Not Found: /prices/get-IG-prices/images/favicon.ico
2024-09-01 20:41:59,743 - INFO - The input start time: 2024-08-30 20:00:00+00:00
2024-09-01 20:45:09,986 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-08 20:54:58,545 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:54:58,545 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:54:58,545 - INFO - Scheduler started
2024-09-08 20:55:01,163 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:55:01,163 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:55:01,163 - INFO - Scheduler started
2024-09-08 20:55:01,181 - INFO - Watching for file changes with StatReloader
2024-09-08 20:56:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 20:56:00 BST)" (scheduled at 2024-09-08 20:56:00+01:00)
2024-09-08 20:56:00,250 - INFO - The input start time: 2024-09-08 19:00:00
2024-09-08 20:56:00,250 - INFO - The input start time: 2024-09-08 19:00:00
2024-09-08 20:56:25,365 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:01:00 BST)" executed successfully
2024-09-08 20:56:26,375 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:01:00 BST)" executed successfully
2024-09-08 20:57:09,831 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:57:09,831 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:57:09,831 - INFO - Scheduler started
2024-09-08 20:57:12,131 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:57:12,132 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:57:12,132 - INFO - Scheduler started
2024-09-08 20:57:12,153 - INFO - Watching for file changes with StatReloader
2024-09-08 20:58:33,207 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\api\urls\report_urls.py changed, reloading.
2024-09-08 20:58:36,259 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:58:36,259 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:58:36,260 - INFO - Scheduler started
2024-09-08 20:58:36,285 - INFO - Watching for file changes with StatReloader
2024-09-08 20:59:08,468 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\api\urls\report_urls.py changed, reloading.
2024-09-08 20:59:11,555 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 20:59:11,555 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 20:59:11,555 - INFO - Scheduler started
2024-09-08 20:59:11,574 - INFO - Watching for file changes with StatReloader
2024-09-08 20:59:14,637 - WARNING - Not Found: /images/favicon.ico
2024-09-08 20:59:54,825 - WARNING - Not Found: /api/reports/USDJPY_pred_historical_1h_v5
2024-09-08 20:59:54,872 - WARNING - Not Found: /favicon.ico
2024-09-08 21:00:18,899 - WARNING - Not Found: /api/report/USDJPY_pred_historical_1h_v5
2024-09-08 21:00:23,148 - WARNING - Not Found: /api/report/USDJPY_pred_historical_1h_v5
2024-09-08 21:00:40,069 - WARNING - Not Found: /api/report/USDJPY_pred_historical_1h_v5
2024-09-08 21:01:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:01:00 BST)" (scheduled at 2024-09-08 21:01:00+01:00)
2024-09-08 21:01:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:01:00 BST)" (scheduled at 2024-09-08 21:01:00+01:00)
2024-09-08 21:01:00,173 - INFO - The input start time: 2024-09-08 20:00:00
2024-09-08 21:01:00,174 - INFO - The input start time: 2024-09-08 20:00:00
2024-09-08 21:01:00,802 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:06:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-08 21:01:07,424 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\api\views\report_view.py changed, reloading.
2024-09-08 21:01:09,512 - WARNING - Not Found: /api/report/USDJPY_pred_historical_1h_v5
2024-09-08 21:01:17,886 - WARNING - Not Found: /api/report/USDJPY_pred_historical_4h
2024-09-08 21:01:20,457 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-08 21:06:00 BST)" executed successfully
2024-09-08 21:01:23,534 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 21:01:23,534 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 21:01:23,534 - INFO - Scheduler started
2024-09-08 21:01:23,555 - INFO - Watching for file changes with StatReloader
2024-09-08 21:01:39,731 - WARNING - Not Found: /api/report/USDJPY_pred_historical_v4
2024-09-08 21:03:43,538 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 21:03:43,538 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 21:03:43,538 - INFO - Scheduler started
2024-09-08 21:03:45,678 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 21:03:45,679 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 21:03:45,679 - INFO - Scheduler started
2024-09-08 21:03:45,700 - INFO - Watching for file changes with StatReloader
2024-09-08 21:03:54,909 - WARNING - Not Found: /api/report/USDJPY_pred_historical_v4
2024-09-08 21:04:21,796 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\api\urls\report_urls.py changed, reloading.
2024-09-08 21:04:24,771 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-08 21:04:24,771 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-08 21:04:24,771 - INFO - Scheduler started
2024-09-08 21:04:24,794 - INFO - Watching for file changes with StatReloader
2024-09-13 16:51:47,418 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 16:51:47,418 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 16:51:47,419 - INFO - Scheduler started
2024-09-13 16:51:49,916 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 16:51:49,916 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 16:51:49,916 - INFO - Scheduler started
2024-09-13 16:51:49,941 - INFO - Watching for file changes with StatReloader
2024-09-13 16:51:53,604 - WARNING - Not Found: /images/favicon.ico
2024-09-13 16:52:00,197 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3361, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 76, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
KeyError: UUID('ffe9b77f-f5a1-40b4-9225-0311dcc4626d')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 492, in ml_report2
    pred_var_pos, pred_var_neg = variability_analysis(model_ticker, 0.1)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 490, in variability_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 737, in prediction_variability
    print("last row", variability_df.loc[last_row.id])
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1164, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1113, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3776, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3363, in get_loc
    raise KeyError(key) from err
KeyError: UUID('ffe9b77f-f5a1-40b4-9225-0311dcc4626d')
2024-09-13 16:52:00,351 - WARNING - Not Found: /favicon.ico
2024-09-13 16:52:26,865 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-13 16:52:35,514 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-13 16:52:37,431 - WARNING - Not Found: /prices/update-price/ffe9b77f-f5a1-40b4-9225-0311dcc4626d/images/favicon.ico
2024-09-13 16:52:46,461 - ERROR - Internal Server Error: /prices/update-price/ffe9b77f-f5a1-40b4-9225-0311dcc4626d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3361, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 76, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
KeyError: UUID('ffe9b77f-f5a1-40b4-9225-0311dcc4626d')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 737, in prediction_variability
    print("last row", variability_df.loc[last_row.id])
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1164, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1113, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3776, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3363, in get_loc
    raise KeyError(key) from err
KeyError: UUID('ffe9b77f-f5a1-40b4-9225-0311dcc4626d')
2024-09-13 16:53:24,746 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 16:53:27,981 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 16:53:27,981 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 16:53:27,981 - INFO - Scheduler started
2024-09-13 16:53:28,004 - INFO - Watching for file changes with StatReloader
2024-09-13 16:54:52,617 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 16:54:55,725 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 16:54:55,725 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 16:54:55,725 - INFO - Scheduler started
2024-09-13 16:54:55,744 - INFO - Watching for file changes with StatReloader
2024-09-13 16:56:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 16:56:00 BST)" (scheduled at 2024-09-13 16:56:00+01:00)
2024-09-13 16:56:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:01:00 BST)" (scheduled at 2024-09-13 16:56:00+01:00)
2024-09-13 16:56:00,221 - INFO - The input start time: 2024-09-13 15:00:00
2024-09-13 16:56:00,222 - INFO - The input start time: 2024-09-13 15:00:00
2024-09-13 16:56:05,658 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:01:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3361, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 76, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
KeyError: UUID('b0551293-169d-4efd-871d-39a17c0386d8')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 737, in prediction_variability
    # print("last row", variability_df.loc[last_row.id])
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1164, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1113, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3776, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3363, in get_loc
    raise KeyError(key) from err
KeyError: UUID('b0551293-169d-4efd-871d-39a17c0386d8')
2024-09-13 16:56:18,090 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:01:00 BST)" executed successfully
2024-09-13 16:58:29,847 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 16:58:33,187 - INFO - Watching for file changes with StatReloader
2024-09-13 16:58:52,495 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 16:58:55,333 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 16:58:55,333 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 16:58:55,333 - INFO - Scheduler started
2024-09-13 16:58:55,353 - INFO - Watching for file changes with StatReloader
2024-09-13 16:59:01,009 - WARNING - Not Found: /prices/update-price/b0551293-169d-4efd-871d-39a17c0386d8/images/favicon.ico
2024-09-13 17:00:10,661 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:00:13,808 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:00:13,808 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:00:13,808 - INFO - Scheduler started
2024-09-13 17:00:13,835 - INFO - Watching for file changes with StatReloader
2024-09-13 17:01:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:06:00 BST)" (scheduled at 2024-09-13 17:01:00+01:00)
2024-09-13 17:01:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:06:00 BST)" (scheduled at 2024-09-13 17:01:00+01:00)
2024-09-13 17:01:00,180 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:01:07,113 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:06:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3361, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 76, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
  File "pandas\_libs\index_class_helper.pxi", line 105, in pandas._libs.index.Int64Engine._check_type
KeyError: UUID('b0551293-169d-4efd-871d-39a17c0386d8')

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 737, in prediction_variability
    # print("last row", variability_df.loc[last_row.id])
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1164, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1113, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3776, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexes\base.py", line 3363, in get_loc
    raise KeyError(key) from err
KeyError: UUID('b0551293-169d-4efd-871d-39a17c0386d8')
2024-09-13 17:01:19,663 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:06:00 BST)" executed successfully
2024-09-13 17:13:40,335 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:13:40,335 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:13:40,335 - INFO - Scheduler started
2024-09-13 17:13:42,755 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:13:42,755 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:13:42,755 - INFO - Scheduler started
2024-09-13 17:13:42,774 - INFO - Watching for file changes with StatReloader
2024-09-13 17:15:52,167 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:15:55,277 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:15:55,277 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:15:55,277 - INFO - Scheduler started
2024-09-13 17:15:55,301 - INFO - Watching for file changes with StatReloader
2024-09-13 17:16:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:16:00 BST)" (scheduled at 2024-09-13 17:16:00+01:00)
2024-09-13 17:16:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:21:00 BST)" (scheduled at 2024-09-13 17:16:00+01:00)
2024-09-13 17:16:00,190 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:16:00,190 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:16:00,891 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:21:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 17:16:13,860 - ERROR - Internal Server Error: /prices/update-price/b0551293-169d-4efd-871d-39a17c0386d8/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 738, in prediction_variability
    print(last_row['opne', 'close'])
          ~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 966, in __getitem__
    return self._get_with(key)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 981, in _get_with
    return self._get_values_tuple(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 1016, in _get_values_tuple
    raise KeyError("key of type tuple not found and not a MultiIndex")
KeyError: 'key of type tuple not found and not a MultiIndex'
2024-09-13 17:16:21,969 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:21:00 BST)" executed successfully
2024-09-13 17:17:05,688 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:17:17,502 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:17:17,502 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:17:17,502 - INFO - Scheduler started
2024-09-13 17:17:19,891 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:17:19,891 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:17:19,891 - INFO - Scheduler started
2024-09-13 17:17:19,919 - INFO - Watching for file changes with StatReloader
2024-09-13 17:17:35,467 - ERROR - Internal Server Error: /prices/update-price/b0551293-169d-4efd-871d-39a17c0386d8/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 738, in prediction_variability
    print(last_row[['opne', 'close']])
          ~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 966, in __getitem__
    return self._get_with(key)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 1006, in _get_with
    return self.loc[key]
           ~~~~~~~~^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1153, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1093, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1314, in _get_listlike_indexer
    self._validate_read_indexer(keyarr, indexer, axis)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1377, in _validate_read_indexer
    raise KeyError(f"{not_found} not in index")
KeyError: "['opne'] not in index"
2024-09-13 17:17:40,611 - WARNING - Not Found: /prices/
2024-09-13 17:18:12,007 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:18:15,261 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:18:15,261 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:18:15,261 - INFO - Scheduler started
2024-09-13 17:18:15,279 - INFO - Watching for file changes with StatReloader
2024-09-13 17:18:16,490 - WARNING - Not Found: /prices/
2024-09-13 17:18:19,425 - WARNING - Not Found: /prices/
2024-09-13 17:18:32,243 - WARNING - Not Found: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/images/favicon.ico
2024-09-13 17:19:53,831 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:19:57,069 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:19:57,070 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:19:57,070 - INFO - Scheduler started
2024-09-13 17:19:57,092 - INFO - Watching for file changes with StatReloader
2024-09-13 17:21:00,004 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:21:00 BST)" (scheduled at 2024-09-13 17:21:00+01:00)
2024-09-13 17:21:00,167 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:21:00,168 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:21:05,691 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:26:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 738, in prediction_variability
    print(variability_df.loc[variability_df.index[-1], 'close'])
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 966, in __getitem__
    return self._get_with(key)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\series.py", line 1006, in _get_with
    return self.loc[key]
           ~~~~~~~~^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 931, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1153, in _getitem_axis
    return self._getitem_iterable(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1093, in _getitem_iterable
    keyarr, indexer = self._get_listlike_indexer(key, axis)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1314, in _get_listlike_indexer
    self._validate_read_indexer(keyarr, indexer, axis)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1377, in _validate_read_indexer
    raise KeyError(f"{not_found} not in index")
KeyError: "['opne'] not in index"
2024-09-13 17:21:18,221 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:26:00 BST)" executed successfully
2024-09-13 17:22:04,067 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:22:04,067 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:22:04,067 - INFO - Scheduler started
2024-09-13 17:22:06,237 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:22:06,237 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:22:06,237 - INFO - Scheduler started
2024-09-13 17:22:06,255 - INFO - Watching for file changes with StatReloader
2024-09-13 17:24:23,775 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:24:26,981 - INFO - Watching for file changes with StatReloader
2024-09-13 17:24:34,876 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:24:37,545 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:24:37,545 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:24:37,545 - INFO - Scheduler started
2024-09-13 17:24:37,568 - INFO - Watching for file changes with StatReloader
2024-09-13 17:25:28,000 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:25:31,347 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:25:31,348 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:25:31,348 - INFO - Scheduler started
2024-09-13 17:25:31,369 - INFO - Watching for file changes with StatReloader
2024-09-13 17:26:00,005 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:26:00 BST)" (scheduled at 2024-09-13 17:26:00+01:00)
2024-09-13 17:26:00,005 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:31:00 BST)" (scheduled at 2024-09-13 17:26:00+01:00)
2024-09-13 17:26:00,191 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:26:02,052 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:26:22,679 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:31:00 BST)" executed successfully
2024-09-13 17:26:26,467 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:31:00 BST)" executed successfully
2024-09-13 17:31:00,003 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:36:00 BST)" (scheduled at 2024-09-13 17:31:00+01:00)
2024-09-13 17:31:00,003 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:36:00 BST)" (scheduled at 2024-09-13 17:31:00+01:00)
2024-09-13 17:31:00,007 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:31:00,008 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:31:20,422 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:36:00 BST)" executed successfully
2024-09-13 17:31:22,441 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:36:00 BST)" executed successfully
2024-09-13 17:31:26,618 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:31:37,431 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:31:37,431 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:31:37,432 - INFO - Scheduler started
2024-09-13 17:31:39,789 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:31:39,789 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:31:39,789 - INFO - Scheduler started
2024-09-13 17:31:39,811 - INFO - Watching for file changes with StatReloader
2024-09-13 17:31:52,848 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 738, in prediction_variability
    variability_df_pos.to_csv(r"c:\Downloads\variability.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'c:\\Downloads\\variability.csv'
2024-09-13 17:32:36,024 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:32:39,322 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:32:39,322 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:32:39,322 - INFO - Scheduler started
2024-09-13 17:32:39,347 - INFO - Watching for file changes with StatReloader
2024-09-13 17:36:35,165 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:36:35,165 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:36:35,165 - INFO - Scheduler started
2024-09-13 17:36:37,571 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:36:37,571 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:36:37,571 - INFO - Scheduler started
2024-09-13 17:36:37,592 - INFO - Watching for file changes with StatReloader
2024-09-13 17:36:52,969 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 738, in prediction_variability
    variability_df_pos.to_csv(r"C:\Users\sunny\Downloads\variability.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\variability.csv'
2024-09-13 17:37:44,855 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 436, in run_model_predictions
    pred_reverse_v5, pred_continue_v5, pred_historical_v5, _ = standard_analysis(model_ticker,"v5")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 725, in prediction_variability
    df.to_csv(r"C:\Users\sunny\Downloads\full_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\full_df.csv'
2024-09-13 17:40:36,731 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:40:36,731 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:40:36,731 - INFO - Scheduler started
2024-09-13 17:40:39,151 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:40:39,151 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:40:39,151 - INFO - Scheduler started
2024-09-13 17:40:39,170 - INFO - Watching for file changes with StatReloader
2024-09-13 17:40:56,269 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 725, in prediction_variability
    df.to_csv(r"C:\Users\sunny\Downloads\full_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\full_df.csv'
2024-09-13 17:41:00,011 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:41:00 BST)" (scheduled at 2024-09-13 17:41:00+01:00)
2024-09-13 17:41:00,011 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:41:00 BST)" (scheduled at 2024-09-13 17:41:00+01:00)
2024-09-13 17:41:00,168 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:41:00,168 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:41:05,382 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 725, in prediction_variability
    df.to_csv(r"C:\Users\sunny\Downloads\full_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\full_df.csv'
2024-09-13 17:41:05,590 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 725, in prediction_variability
    df.to_csv(r"C:\Users\sunny\Downloads\full_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\full_df.csv'
2024-09-13 17:43:54,707 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:43:54,708 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:43:54,708 - INFO - Scheduler started
2024-09-13 17:43:56,971 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:43:56,971 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:43:56,971 - INFO - Scheduler started
2024-09-13 17:43:56,994 - INFO - Watching for file changes with StatReloader
2024-09-13 17:44:02,634 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 816, in prediction_variability
    variability_df.to_csv(r"C:\Users\sunny\Downloads\variability_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\variability_df.csv'
2024-09-13 17:44:16,710 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 816, in prediction_variability
    variability_df.to_csv(r"C:\Users\sunny\Downloads\variability_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\variability_df.csv'
2024-09-13 17:44:34,589 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 826, in prediction_variability
    variability_df_neg = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 659, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:45:44,225 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:45:47,329 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:45:47,329 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:45:47,329 - INFO - Scheduler started
2024-09-13 17:45:47,347 - INFO - Watching for file changes with StatReloader
2024-09-13 17:46:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:46:00 BST)" (scheduled at 2024-09-13 17:46:00+01:00)
2024-09-13 17:46:00,087 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:51:00 BST)" (scheduled at 2024-09-13 17:46:00+01:00)
2024-09-13 17:46:00,205 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:46:00,920 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:51:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 17:46:01,436 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:46:05,272 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 827, in prediction_variability
    variability_df_neg = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:46:09,845 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:51:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 827, in prediction_variability
    variability_df_neg = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:46:45,118 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:46:48,308 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:46:48,308 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:46:48,308 - INFO - Scheduler started
2024-09-13 17:46:48,327 - INFO - Watching for file changes with StatReloader
2024-09-13 17:47:03,080 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 815, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:50:00,001 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:50:03,028 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:50:03,028 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:50:03,028 - INFO - Scheduler started
2024-09-13 17:50:03,050 - INFO - Watching for file changes with StatReloader
2024-09-13 17:50:11,497 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 815, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:50:55,284 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:50:58,230 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:50:58,230 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:50:58,230 - INFO - Scheduler started
2024-09-13 17:50:58,253 - INFO - Watching for file changes with StatReloader
2024-09-13 17:51:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:56:00 BST)" (scheduled at 2024-09-13 17:51:00+01:00)
2024-09-13 17:51:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:56:00 BST)" (scheduled at 2024-09-13 17:51:00+01:00)
2024-09-13 17:51:00,012 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:51:00,156 - INFO - The input start time: 2024-09-13 16:00:00
2024-09-13 17:51:00,835 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:56:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 17:51:43,041 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 17:56:00 BST)" executed successfully
2024-09-13 17:52:32,087 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:52:35,267 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:52:35,267 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:52:35,267 - INFO - Scheduler started
2024-09-13 17:52:35,288 - INFO - Watching for file changes with StatReloader
2024-09-13 17:52:43,935 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:52:46,941 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:52:46,941 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:52:46,941 - INFO - Scheduler started
2024-09-13 17:52:46,963 - INFO - Watching for file changes with StatReloader
2024-09-13 17:52:57,453 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 812, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 17:53:30,916 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 17:53:33,956 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 17:53:33,956 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 17:53:33,956 - INFO - Scheduler started
2024-09-13 17:53:33,980 - INFO - Watching for file changes with StatReloader
2024-09-13 17:53:39,163 - ERROR - Internal Server Error: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 817, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 660, in stats_df_gen_v
    df = self.profit_calc(df, "open", "open", -1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: v4Processing.profit_calc() takes 3 positional arguments but 4 were given
2024-09-13 18:13:10,726 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:13:10,726 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:13:10,727 - INFO - Scheduler started
2024-09-13 18:13:13,161 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:13:13,161 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:13:13,162 - INFO - Scheduler started
2024-09-13 18:13:13,181 - INFO - Watching for file changes with StatReloader
2024-09-13 18:13:18,653 - WARNING - Not Found: /images/favicon.ico
2024-09-13 18:13:21,630 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-13 18:13:25,676 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-13 18:13:27,025 - WARNING - Not Found: /prices/update-price/a076365f-1a46-45c5-938c-6402413191e2/images/favicon.ico
2024-09-13 18:14:00,707 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\bespoke_model.py changed, reloading.
2024-09-13 18:14:03,930 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:14:03,930 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:14:03,930 - INFO - Scheduler started
2024-09-13 18:14:03,953 - INFO - Watching for file changes with StatReloader
2024-09-13 18:16:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:16:00 BST)" (scheduled at 2024-09-13 18:16:00+01:00)
2024-09-13 18:16:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:21:00 BST)" (scheduled at 2024-09-13 18:16:00+01:00)
2024-09-13 18:16:00,194 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:16:00,200 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:16:00,986 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:21:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 18:16:18,789 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:21:00 BST)" executed successfully
2024-09-13 18:17:00,820 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:17:00,820 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:17:00,820 - INFO - Scheduler started
2024-09-13 18:17:03,196 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:17:03,196 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:17:03,196 - INFO - Scheduler started
2024-09-13 18:17:03,216 - INFO - Watching for file changes with StatReloader
2024-09-13 18:17:12,054 - WARNING - Not Found: /prices/update-price/d47b9a4b-db39-4bf3-9e5c-fa6c91589c20/images/favicon.ico
2024-09-13 18:17:41,759 - ERROR - Internal Server Error: /prices/update-price/d47b9a4b-db39-4bf3-9e5c-fa6c91589c20/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 437, in run_model_predictions
    pred_reverse_1h_v5, pred_continue_1h_v5, pred_historical_1h_v5, _ = standard_analysis(model_ticker, "1h_v5")
                                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 817, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 707, in stats_df_gen_v
    merged_df.to_csv(r"C:\Users\sunny\Downloads\new_4.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\new_4.csv'
2024-09-13 18:17:41,943 - WARNING - Not Found: /favicon.ico
2024-09-13 18:21:00,010 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:21:00 BST)" (scheduled at 2024-09-13 18:21:00+01:00)
2024-09-13 18:21:00,209 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:21:00,218 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:21:31,664 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:26:00 BST)" executed successfully
2024-09-13 18:21:33,534 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:26:00 BST)" executed successfully
2024-09-13 18:24:09,088 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:24:09,088 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:24:09,088 - INFO - Scheduler started
2024-09-13 18:24:11,407 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:24:11,407 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:24:11,407 - INFO - Scheduler started
2024-09-13 18:24:11,427 - INFO - Watching for file changes with StatReloader
2024-09-13 18:24:29,495 - ERROR - Internal Server Error: /prices/update-price/d47b9a4b-db39-4bf3-9e5c-fa6c91589c20/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 819, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\bespoke_model.py", line 181, in stats_df_gen_v
    merged_df.to_csv(r"C:\Users\sunny\Downloads\new_4.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\new_4.csv'
2024-09-13 18:26:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:26:00 BST)" (scheduled at 2024-09-13 18:26:00+01:00)
2024-09-13 18:26:00,221 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:26:00,221 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:26:01,237 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:31:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 18:26:10,871 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:31:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 819, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\bespoke_model.py", line 181, in stats_df_gen_v
    merged_df.to_csv(r"C:\Users\sunny\Downloads\new_4.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\new_4.csv'
2024-09-13 18:32:24,866 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:32:24,867 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:32:24,867 - INFO - Scheduler started
2024-09-13 18:32:27,158 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:32:27,158 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:32:27,158 - INFO - Scheduler started
2024-09-13 18:32:27,179 - INFO - Watching for file changes with StatReloader
2024-09-13 18:32:41,431 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 492, in ml_report2
    pred_var_pos, pred_var_neg = variability_analysis(model_ticker, 0.1)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 490, in variability_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 819, in prediction_variability
    variability_df_pos = self.stats_df_gen_v(variability_df,2)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 716, in stats_df_gen_v
    X_live.to_csv(r"C:\Users\sunny\Downloads\x_live_after.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\x_live_after.csv'
2024-09-13 18:33:10,753 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-13 18:40:27,947 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:40:27,947 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:40:27,947 - INFO - Scheduler started
2024-09-13 18:40:30,516 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:40:30,517 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:40:30,517 - INFO - Scheduler started
2024-09-13 18:40:30,538 - INFO - Watching for file changes with StatReloader
2024-09-13 18:41:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:41:00 BST)" (scheduled at 2024-09-13 18:41:00+01:00)
2024-09-13 18:41:00,033 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:46:00 BST)" (scheduled at 2024-09-13 18:41:00+01:00)
2024-09-13 18:41:00,205 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:41:00,942 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 18:41:01,352 - INFO - The input start time: 2024-09-13 17:00:00
2024-09-13 18:41:02,103 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 18:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 18:42:43,444 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:42:43,444 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:42:43,444 - INFO - Scheduler started
2024-09-13 18:42:45,809 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:42:45,809 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:42:45,809 - INFO - Scheduler started
2024-09-13 18:42:45,828 - INFO - Watching for file changes with StatReloader
2024-09-13 18:43:27,210 - ERROR - Internal Server Error: /prices/update-price/d47b9a4b-db39-4bf3-9e5c-fa6c91589c20/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 436, in run_model_predictions
    pred_reverse_v5, pred_continue_v5, pred_historical_v5, _ = standard_analysis(model_ticker,"v5")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 234, in standard_analysis
    X_live_variability = dp.prediction_variability(sensitivity_adjustment)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 841, in prediction_variability
    variability_all.to_csv(r"C:\Users\sunny\Downloads\variability_all.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\variability_all.csv'
2024-09-13 18:46:55,227 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:46:55,227 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:46:55,227 - INFO - Scheduler started
2024-09-13 18:46:57,580 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 18:46:57,580 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 18:46:57,580 - INFO - Scheduler started
2024-09-13 18:46:57,600 - INFO - Watching for file changes with StatReloader
2024-09-13 19:32:54,237 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 19:32:54,237 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 19:32:54,237 - INFO - Scheduler started
2024-09-13 19:32:56,509 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 19:32:56,509 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 19:32:56,509 - INFO - Scheduler started
2024-09-13 19:32:56,528 - INFO - Watching for file changes with StatReloader
2024-09-13 19:36:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 19:36:00 BST)" (scheduled at 2024-09-13 19:36:00+01:00)
2024-09-13 19:36:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 19:41:00 BST)" (scheduled at 2024-09-13 19:36:00+01:00)
2024-09-13 19:36:00,181 - INFO - The input start time: 2024-09-13 18:00:00
2024-09-13 19:36:24,477 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 19:41:00 BST)" executed successfully
2024-09-13 19:36:25,907 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 19:41:00 BST)" executed successfully
2024-09-13 21:04:22,782 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:04:22,782 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:04:22,782 - INFO - Scheduler started
2024-09-13 21:04:25,281 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:04:25,282 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:04:25,282 - INFO - Scheduler started
2024-09-13 21:04:25,301 - INFO - Watching for file changes with StatReloader
2024-09-13 21:06:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:06:00 BST)" (scheduled at 2024-09-13 21:06:00+01:00)
2024-09-13 21:06:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:11:00 BST)" (scheduled at 2024-09-13 21:06:00+01:00)
2024-09-13 21:06:00,170 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:06:00,170 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:06:25,029 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:11:00 BST)" executed successfully
2024-09-13 21:06:26,507 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:11:00 BST)" executed successfully
2024-09-13 21:08:29,354 - WARNING - Not Found: /images/favicon.ico
2024-09-13 21:08:31,009 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-13 21:08:32,641 - WARNING - Not Found: /login/images/favicon.ico
2024-09-13 21:08:37,796 - WARNING - Not Found: /account/images/favicon.ico
2024-09-13 21:08:43,210 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-13 21:08:44,784 - WARNING - Not Found: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/images/favicon.ico
2024-09-13 21:09:19,549 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-13 21:12:58,303 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:12:58,303 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:12:58,303 - INFO - Scheduler started
2024-09-13 21:13:00,601 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:13:00,601 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:13:00,601 - INFO - Scheduler started
2024-09-13 21:13:00,623 - INFO - Watching for file changes with StatReloader
2024-09-13 21:13:03,334 - WARNING - Not Found: /images/favicon.ico
2024-09-13 21:13:06,122 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-13 21:13:10,351 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-13 21:13:14,506 - WARNING - Not Found: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/images/favicon.ico
2024-09-13 21:13:45,073 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-13 21:17:34,325 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:17:34,325 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:17:34,325 - INFO - Scheduler started
2024-09-13 21:17:36,661 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:17:36,662 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:17:36,662 - INFO - Scheduler started
2024-09-13 21:17:36,681 - INFO - Watching for file changes with StatReloader
2024-09-13 21:20:32,952 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 21:20:36,071 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:20:36,071 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:20:36,071 - INFO - Scheduler started
2024-09-13 21:20:36,097 - INFO - Watching for file changes with StatReloader
2024-09-13 21:20:49,359 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 21:20:52,635 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:20:52,635 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:20:52,635 - INFO - Scheduler started
2024-09-13 21:20:52,655 - INFO - Watching for file changes with StatReloader
2024-09-13 21:21:00,003 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:21:00 BST)" (scheduled at 2024-09-13 21:21:00+01:00)
2024-09-13 21:21:00,003 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:26:00 BST)" (scheduled at 2024-09-13 21:21:00+01:00)
2024-09-13 21:21:00,173 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:21:00,183 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:21:24,152 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:26:00 BST)" executed successfully
2024-09-13 21:21:45,234 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:26:00 BST)" executed successfully
2024-09-13 21:24:37,651 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 21:25:08,630 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:25:08,630 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:25:08,630 - INFO - Scheduler started
2024-09-13 21:25:11,100 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:25:11,100 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:25:11,100 - INFO - Scheduler started
2024-09-13 21:25:11,121 - INFO - Watching for file changes with StatReloader
2024-09-13 21:25:21,858 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 657, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 519, in scenario_builder
    df.iloc[len(df.index)] = last_row
    ~~~~~~~^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 720, in __setitem__
    self._has_valid_setitem_indexer(key)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1461, in _has_valid_setitem_indexer
    raise IndexError("iloc cannot enlarge its target object")
IndexError: iloc cannot enlarge its target object
2024-09-13 21:25:21,973 - WARNING - Not Found: /favicon.ico
2024-09-13 21:25:37,073 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 21:25:40,263 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 21:25:40,263 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 21:25:40,263 - INFO - Scheduler started
2024-09-13 21:25:40,284 - INFO - Watching for file changes with StatReloader
2024-09-13 21:26:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:26:00 BST)" (scheduled at 2024-09-13 21:26:00+01:00)
2024-09-13 21:26:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:31:00 BST)" (scheduled at 2024-09-13 21:26:00+01:00)
2024-09-13 21:26:00,193 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:26:02,092 - INFO - The input start time: 2024-09-13 20:00:00
2024-09-13 21:26:02,189 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:31:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 657, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 519, in scenario_builder
    df.loc[len(df.index)] = last_row
    ~~~~~~^^^^^^^^^^^^^^^~
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 720, in __setitem__
    self._has_valid_setitem_indexer(key)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\indexing.py", line 1461, in _has_valid_setitem_indexer
    raise IndexError("iloc cannot enlarge its target object")
IndexError: iloc cannot enlarge its target object
2024-09-13 21:26:26,265 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 21:31:00 BST)" executed successfully
2024-09-13 22:29:53,876 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 22:29:53,877 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 22:29:53,877 - INFO - Scheduler started
2024-09-13 22:29:56,788 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 22:29:56,788 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 22:29:56,789 - INFO - Scheduler started
2024-09-13 22:29:56,810 - INFO - Watching for file changes with StatReloader
2024-09-13 22:29:58,688 - WARNING - Not Found: /images/favicon.ico
2024-09-13 22:30:02,262 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-13 22:30:05,332 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-13 22:30:05,857 - WARNING - Not Found: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/images/favicon.ico
2024-09-13 22:30:06,953 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 693, in scenario_reverse
    df = self.scenario_builder_r(df, 0.1, "reverse")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StandardPriceProcessing.scenario_builder_r() takes 3 positional arguments but 4 were given
2024-09-13 22:30:07,065 - WARNING - Not Found: /favicon.ico
2024-09-13 22:31:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:31:00 BST)" (scheduled at 2024-09-13 22:31:00+01:00)
2024-09-13 22:31:00,220 - INFO - The input start time: 2024-09-13 21:00:00
2024-09-13 22:31:00,220 - INFO - The input start time: 2024-09-13 21:00:00
2024-09-13 22:31:02,261 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:36:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 693, in scenario_reverse
    df = self.scenario_builder_r(df, 0.1, "reverse")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StandardPriceProcessing.scenario_builder_r() takes 3 positional arguments but 4 were given
2024-09-13 22:31:02,293 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:36:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 693, in scenario_reverse
    df = self.scenario_builder_r(df, 0.1, "reverse")
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: StandardPriceProcessing.scenario_builder_r() takes 3 positional arguments but 4 were given
2024-09-13 22:31:10,185 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-13 22:31:13,441 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 22:31:13,441 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 22:31:13,441 - INFO - Scheduler started
2024-09-13 22:31:13,463 - INFO - Watching for file changes with StatReloader
2024-09-13 22:35:01,312 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 22:35:01,312 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 22:35:01,313 - INFO - Scheduler started
2024-09-13 22:35:03,604 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-13 22:35:03,604 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-13 22:35:03,604 - INFO - Scheduler started
2024-09-13 22:35:03,625 - INFO - Watching for file changes with StatReloader
2024-09-13 22:36:00,005 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:36:00 BST)" (scheduled at 2024-09-13 22:36:00+01:00)
2024-09-13 22:36:00,005 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:41:00 BST)" (scheduled at 2024-09-13 22:36:00+01:00)
2024-09-13 22:36:00,190 - INFO - The input start time: 2024-09-13 21:00:00
2024-09-13 22:36:00,190 - INFO - The input start time: 2024-09-13 21:00:00
2024-09-13 22:36:00,874 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:41:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-13 22:36:24,915 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-13 22:41:00 BST)" executed successfully
2024-09-14 08:09:35,459 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 08:09:35,459 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 08:09:35,459 - INFO - Scheduler started
2024-09-14 08:09:37,983 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 08:09:37,983 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 08:09:37,983 - INFO - Scheduler started
2024-09-14 08:09:38,006 - INFO - Watching for file changes with StatReloader
2024-09-14 08:09:39,959 - WARNING - Not Found: /images/favicon.ico
2024-09-14 08:09:46,979 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-14 08:09:51,944 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-14 08:09:53,344 - WARNING - Not Found: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/images/favicon.ico
2024-09-14 08:11:00,009 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 08:11:00 BST)" (scheduled at 2024-09-14 08:11:00+01:00)
2024-09-14 08:11:00,009 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 08:11:00 BST)" (scheduled at 2024-09-14 08:11:00+01:00)
2024-09-14 08:11:00,247 - INFO - The input start time: 2024-09-14 07:00:00
2024-09-14 08:11:00,247 - INFO - The input start time: 2024-09-14 07:00:00
2024-09-14 08:11:01,041 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 08:16:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-14 08:11:29,554 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 08:16:00 BST)" executed successfully
2024-09-14 09:25:19,755 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:25:19,756 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:25:19,756 - INFO - Scheduler started
2024-09-14 09:25:22,085 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:25:22,086 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:25:22,086 - INFO - Scheduler started
2024-09-14 09:25:22,106 - INFO - Watching for file changes with StatReloader
2024-09-14 09:26:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 09:26:00 BST)" (scheduled at 2024-09-14 09:26:00+01:00)
2024-09-14 09:26:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 09:31:00 BST)" (scheduled at 2024-09-14 09:26:00+01:00)
2024-09-14 09:26:00,219 - INFO - The input start time: 2024-09-14 08:00:00
2024-09-14 09:26:00,219 - INFO - The input start time: 2024-09-14 08:00:00
2024-09-14 09:26:20,476 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 09:31:00 BST)" executed successfully
2024-09-14 09:26:21,315 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 09:31:00 BST)" executed successfully
2024-09-14 09:27:58,031 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-14 09:33:14,911 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:33:14,911 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:33:14,911 - INFO - Scheduler started
2024-09-14 09:33:17,387 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:33:17,387 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:33:17,387 - INFO - Scheduler started
2024-09-14 09:33:17,410 - INFO - Watching for file changes with StatReloader
2024-09-14 09:33:35,310 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 715, in scenario_reverse
    df = self.scenario_builder_r(df, 0.1, "reverse",-1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 578, in scenario_builder_r
    df.to_csv(r"C:\Users\sunny\Downloads\df_end-4_rev.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\df_end-4_rev.csv'
2024-09-14 09:33:35,417 - WARNING - Not Found: /favicon.ico
2024-09-14 09:37:17,965 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:37:17,965 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:37:17,965 - INFO - Scheduler started
2024-09-14 09:37:20,234 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:37:20,234 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:37:20,234 - INFO - Scheduler started
2024-09-14 09:37:20,253 - INFO - Watching for file changes with StatReloader
2024-09-14 09:39:45,517 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:39:45,517 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:39:45,517 - INFO - Scheduler started
2024-09-14 09:39:47,753 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:39:47,753 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:39:47,753 - INFO - Scheduler started
2024-09-14 09:39:47,774 - INFO - Watching for file changes with StatReloader
2024-09-14 09:41:01,845 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:41:01,846 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:41:01,846 - INFO - Scheduler started
2024-09-14 09:41:04,111 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 09:41:04,111 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 09:41:04,111 - INFO - Scheduler started
2024-09-14 09:41:04,138 - INFO - Watching for file changes with StatReloader
2024-09-14 12:43:25,948 - INFO - Watching for file changes with StatReloader
2024-09-14 12:47:17,911 - INFO - Watching for file changes with StatReloader
2024-09-14 12:54:11,486 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 12:54:11,486 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 12:54:11,486 - INFO - Scheduler started
2024-09-14 12:54:13,683 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 12:54:13,683 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 12:54:13,683 - INFO - Scheduler started
2024-09-14 12:54:13,703 - INFO - Watching for file changes with StatReloader
2024-09-14 12:54:34,148 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 12:54:37,107 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 12:54:37,107 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 12:54:37,107 - INFO - Scheduler started
2024-09-14 12:54:37,125 - INFO - Watching for file changes with StatReloader
2024-09-14 12:54:39,061 - WARNING - Not Found: /images/favicon.ico
2024-09-14 12:54:40,969 - WARNING - Not Found: /tickers/images/favicon.ico
2024-09-14 12:54:44,176 - WARNING - Not Found: /tickers/ticker/9f53d106-491e-43bc-8f19-f91352ee4426/images/favicon.ico
2024-09-14 12:54:45,089 - WARNING - Not Found: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/images/favicon.ico
2024-09-14 12:56:00,004 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 12:56:00 BST)" (scheduled at 2024-09-14 12:56:00+01:00)
2024-09-14 12:56:00,196 - INFO - The input start time: 2024-09-14 11:00:00
2024-09-14 12:56:00,197 - INFO - The input start time: 2024-09-14 11:00:00
2024-09-14 12:56:24,566 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:01:00 BST)" executed successfully
2024-09-14 12:56:26,278 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:01:00 BST)" executed successfully
2024-09-14 13:01:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:06:00 BST)" (scheduled at 2024-09-14 13:01:00+01:00)
2024-09-14 13:01:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:06:00 BST)" (scheduled at 2024-09-14 13:01:00+01:00)
2024-09-14 13:01:00,008 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:01:00,008 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:01:00,677 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:06:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-14 13:01:19,201 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:06:00 BST)" executed successfully
2024-09-14 13:01:23,183 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:01:36,467 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:01:36,467 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:01:36,467 - INFO - Scheduler started
2024-09-14 13:01:38,830 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:01:38,830 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:01:38,830 - INFO - Scheduler started
2024-09-14 13:01:38,854 - INFO - Watching for file changes with StatReloader
2024-09-14 13:02:07,918 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 458, in run_model_predictions
    comparison_comment, send_email_enabled = compare_version_results(pred_collection, 1, 1 )
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\analysis_comments.py", line 268, in compare_version_results
    rev_10pip_trade1 = rev_array1[arr_index].split()[0]
                       ~~~~~~~~~~^^^^^^^^^^^
IndexError: list index out of range
2024-09-14 13:02:08,023 - WARNING - Not Found: /favicon.ico
2024-09-14 13:03:33,986 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:03:37,284 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:03:37,284 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:03:37,284 - INFO - Scheduler started
2024-09-14 13:03:37,304 - INFO - Watching for file changes with StatReloader
2024-09-14 13:06:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:06:00 BST)" (scheduled at 2024-09-14 13:06:00+01:00)
2024-09-14 13:06:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:11:00 BST)" (scheduled at 2024-09-14 13:06:00+01:00)
2024-09-14 13:06:00,162 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:06:00,162 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:06:14,915 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:11:00 BST)" executed successfully
2024-09-14 13:06:14,915 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:11:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 458, in run_model_predictions
    comparison_comment, send_email_enabled = compare_version_results(pred_collection, 1, 1 )
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\analysis_comments.py", line 268, in compare_version_results
    rev_10pip_trade1 = rev_array1[arr_index].split()[0]
                       ~~~~~~~~~~^^^^^^^^^^^
IndexError: list index out of range
2024-09-14 13:11:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:16:00 BST)" (scheduled at 2024-09-14 13:11:00+01:00)
2024-09-14 13:11:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:16:00 BST)" (scheduled at 2024-09-14 13:11:00+01:00)
2024-09-14 13:11:00,012 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:11:00,012 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:11:14,607 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:16:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 458, in run_model_predictions
    comparison_comment, send_email_enabled = compare_version_results(pred_collection, 1, 1 )
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\analysis_comments.py", line 268, in compare_version_results
    rev_10pip_trade1 = rev_array1[arr_index].split()[0]
                       ~~~~~~~~~~^^^^^^^^^^^
IndexError: list index out of range
2024-09-14 13:11:14,610 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:16:00 BST)" executed successfully
2024-09-14 13:13:20,838 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-14 13:15:55,435 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:16:03,282 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:16:03,283 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:16:03,283 - INFO - Scheduler started
2024-09-14 13:16:05,643 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:16:05,643 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:16:05,643 - INFO - Scheduler started
2024-09-14 13:16:05,665 - INFO - Watching for file changes with StatReloader
2024-09-14 13:16:19,938 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 720, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse",-1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 536, in scenario_builder
    df.to_csv(r"C:\Users\sunny\Downloads\df_scenario.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\df_scenario.csv'
2024-09-14 13:21:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:21:00 BST)" (scheduled at 2024-09-14 13:21:00+01:00)
2024-09-14 13:21:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:21:00 BST)" (scheduled at 2024-09-14 13:21:00+01:00)
2024-09-14 13:21:00,184 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:21:00,190 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:21:02,394 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:26:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 720, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse",-1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 536, in scenario_builder
    df.to_csv(r"C:\Users\sunny\Downloads\df_scenario.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\df_scenario.csv'
2024-09-14 13:21:02,397 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:26:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 720, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse",-1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 536, in scenario_builder
    df.to_csv(r"C:\Users\sunny\Downloads\df_scenario.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\df_scenario.csv'
2024-09-14 13:21:55,578 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:21:58,770 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:21:58,770 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:21:58,770 - INFO - Scheduler started
2024-09-14 13:21:58,802 - INFO - Watching for file changes with StatReloader
2024-09-14 13:22:08,105 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 720, in scenario_reverse
    df = self.scenario_builder(df, 0.1, "reverse",-1)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 536, in scenario_builder
    df.to_csv(r"C:\Users\sunny\Downloads\df_scenario.csv", index=False)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\df_scenario.csv'
2024-09-14 13:23:08,687 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:23:11,783 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:23:11,783 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:23:11,783 - INFO - Scheduler started
2024-09-14 13:23:11,804 - INFO - Watching for file changes with StatReloader
2024-09-14 13:25:24,299 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:25:27,437 - INFO - Watching for file changes with StatReloader
2024-09-14 13:25:40,536 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:25:43,775 - INFO - Watching for file changes with StatReloader
2024-09-14 13:25:55,880 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:25:58,816 - INFO - Watching for file changes with StatReloader
2024-09-14 13:26:00,005 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:31:00 BST)" (scheduled at 2024-09-14 13:26:00+01:00)
2024-09-14 13:26:00,007 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:26:20,353 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:31:00 BST)" executed successfully
2024-09-14 13:26:42,818 - INFO - Watching for file changes with StatReloader
2024-09-14 13:27:08,265 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:27:11,193 - INFO - Watching for file changes with StatReloader
2024-09-14 13:27:25,285 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:27:28,431 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:27:28,432 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:27:28,432 - INFO - Scheduler started
2024-09-14 13:27:28,465 - INFO - Watching for file changes with StatReloader
2024-09-14 13:31:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:36:00 BST)" (scheduled at 2024-09-14 13:31:00+01:00)
2024-09-14 13:31:00,181 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:31:02,900 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:36:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 728, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:34:34,739 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:34:37,908 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:34:37,908 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:34:37,908 - INFO - Scheduler started
2024-09-14 13:34:37,931 - INFO - Watching for file changes with StatReloader
2024-09-14 13:36:00,016 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:41:00 BST)" (scheduled at 2024-09-14 13:36:00+01:00)
2024-09-14 13:36:00,176 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:36:02,797 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:41:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:39:32,072 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:39:32,072 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:39:32,072 - INFO - Scheduler started
2024-09-14 13:39:34,269 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:39:34,269 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:39:34,269 - INFO - Scheduler started
2024-09-14 13:39:34,289 - INFO - Watching for file changes with StatReloader
2024-09-14 13:39:46,322 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:41:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:41:00 BST)" (scheduled at 2024-09-14 13:41:00+01:00)
2024-09-14 13:41:00,006 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:41:00 BST)" (scheduled at 2024-09-14 13:41:00+01:00)
2024-09-14 13:41:00,165 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:41:00,166 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:41:03,308 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:41:03,399 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:46:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:43:14,381 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py changed, reloading.
2024-09-14 13:43:17,582 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:43:17,583 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:43:17,583 - INFO - Scheduler started
2024-09-14 13:43:17,603 - INFO - Watching for file changes with StatReloader
2024-09-14 13:43:29,135 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:43:57,648 - ERROR - Internal Server Error: /prices/update-price/7690fb2a-5135-4212-b8b5-400b60b0357d/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\views.py", line 58, in updatePrice
    run_model_predictions(price_instance.ticker.symbol)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 437, in run_model_predictions
    pred_reverse_1h_v5, pred_continue_1h_v5, pred_historical_1h_v5, _ = standard_analysis(model_ticker, "1h_v5")
                                                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:46:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:51:00 BST)" (scheduled at 2024-09-14 13:46:00+01:00)
2024-09-14 13:46:00,008 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:46:00 BST)" (scheduled at 2024-09-14 13:46:00+01:00)
2024-09-14 13:46:00,010 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:46:00,183 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:46:04,298 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:51:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:46:04,806 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:51:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 74, in run_procedure_sequence
    comparison_comment, general_ticker_info, send_email_enabled = run_model_predictions(ticker)
                                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 435, in run_model_predictions
    pred_reverse_v4, pred_continue_v4, pred_historical_v4, _ = standard_analysis(model_ticker, "v4")
                                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py", line 231, in standard_analysis
    X_live_reverse = dp.scenario_reverse()
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\price_processing.py", line 723, in scenario_reverse
    combined_df.to_csv(r"C:\Users\sunny\Downloads\combined_df.csv")
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\core\generic.py", line 3466, in to_csv
    return DataFrameRenderer(formatter).to_csv(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\format.py", line 1105, in to_csv
    csv_formatter.save()
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\formats\csvs.py", line 237, in save
    with get_handle(
         ^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\pandas\io\common.py", line 702, in get_handle
    handle = open(
             ^^^^^
PermissionError: [Errno 13] Permission denied: 'C:\\Users\\sunny\\Downloads\\combined_df.csv'
2024-09-14 13:54:05,027 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:54:05,027 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:54:05,027 - INFO - Scheduler started
2024-09-14 13:54:07,280 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 13:54:07,280 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 13:54:07,280 - INFO - Scheduler started
2024-09-14 13:54:07,301 - INFO - Watching for file changes with StatReloader
2024-09-14 13:56:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 13:56:00 BST)" (scheduled at 2024-09-14 13:56:00+01:00)
2024-09-14 13:56:00,007 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:01:00 BST)" (scheduled at 2024-09-14 13:56:00+01:00)
2024-09-14 13:56:00,159 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:56:00,159 - INFO - The input start time: 2024-09-14 12:00:00
2024-09-14 13:56:17,901 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:01:00 BST)" executed successfully
2024-09-14 13:56:18,396 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:01:00 BST)" executed successfully
2024-09-14 14:30:28,382 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:30:28,382 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:30:28,383 - INFO - Scheduler started
2024-09-14 14:30:30,875 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:30:30,875 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:30:30,875 - INFO - Scheduler started
2024-09-14 14:30:30,896 - INFO - Watching for file changes with StatReloader
2024-09-14 14:30:40,817 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 492, in ml_report2
    pred_var_pos, pred_var_neg = variability_analysis(model_ticker, 0.1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2024-09-14 14:30:54,176 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py changed, reloading.
2024-09-14 14:30:57,505 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:30:57,505 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:30:57,505 - INFO - Scheduler started
2024-09-14 14:30:57,528 - INFO - Watching for file changes with StatReloader
2024-09-14 14:31:00,012 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:31:00 BST)" (scheduled at 2024-09-14 14:31:00+01:00)
2024-09-14 14:31:00,013 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:36:00 BST)" (scheduled at 2024-09-14 14:31:00+01:00)
2024-09-14 14:31:00,206 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:31:01,107 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:31:01,792 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:36:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-14 14:31:18,995 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:36:00 BST)" executed successfully
2024-09-14 14:31:27,175 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py changed, reloading.
2024-09-14 14:47:41,779 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:47:41,779 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:47:41,779 - INFO - Scheduler started
2024-09-14 14:47:44,173 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:47:44,173 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:47:44,173 - INFO - Scheduler started
2024-09-14 14:47:44,195 - INFO - Watching for file changes with StatReloader
2024-09-14 14:47:46,073 - WARNING - Not Found: /images/favicon.ico
2024-09-14 14:47:53,454 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 494, in ml_report2
    pred_var_pos, pred_var_neg = variability_analysis(model_ticker, 0.1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2024-09-14 14:47:53,563 - WARNING - Not Found: /favicon.ico
2024-09-14 14:48:53,152 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py changed, reloading.
2024-09-14 14:48:56,397 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:48:56,397 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:48:56,397 - INFO - Scheduler started
2024-09-14 14:48:56,417 - INFO - Watching for file changes with StatReloader
2024-09-14 14:49:05,123 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py changed, reloading.
2024-09-14 14:49:08,722 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:49:08,722 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:49:08,723 - INFO - Scheduler started
2024-09-14 14:49:08,741 - INFO - Watching for file changes with StatReloader
2024-09-14 14:49:17,421 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\utils\trade_model.py changed, reloading.
2024-09-14 14:49:20,385 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:49:20,385 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:49:20,385 - INFO - Scheduler started
2024-09-14 14:49:20,404 - INFO - Watching for file changes with StatReloader
2024-09-14 14:50:04,908 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 494, in ml_report2
    pred_var_pos, pred_var_neg = variability_analysis(model_ticker, 0.1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2024-09-14 14:51:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:51:00 BST)" (scheduled at 2024-09-14 14:51:00+01:00)
2024-09-14 14:51:00,014 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:51:00 BST)" (scheduled at 2024-09-14 14:51:00+01:00)
2024-09-14 14:51:00,181 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:51:00,182 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:51:14,611 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-14 14:51:21,011 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:56:00 BST)" executed successfully
2024-09-14 14:51:24,344 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 494, in ml_report2
    pred_var_pos, pred_var_neg, pos_trade, neg_trade = variability_analysis(model_ticker, 0.1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: too many values to unpack (expected 2)
2024-09-14 14:51:25,754 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:56:00 BST)" executed successfully
2024-09-14 14:51:33,869 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:51:33,869 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:51:33,869 - INFO - Scheduler started
2024-09-14 14:51:36,704 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:51:36,704 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:51:36,704 - INFO - Scheduler started
2024-09-14 14:51:36,724 - INFO - Watching for file changes with StatReloader
2024-09-14 14:51:46,156 - ERROR - Internal Server Error: /ml_models/ml-report/
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\smartif.py", line 179, in translate_token
    op = OPERATORS[token]
         ~~~~~~~~~^^^^^^^
KeyError: 'result[1]'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\exception.py", line 56, in inner
    response = get_response(request)
               ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\core\handlers\base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py", line 520, in ml_report2
    return render(request, 'ml_models/ml_report.html', context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\shortcuts.py", line 24, in render
    content = loader.render_to_string(template_name, context, request, using=using)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loader.py", line 15, in get_template
    return engine.get_template(template_name)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\backends\django.py", line 33, in get_template
    return Template(self.engine.get_template(template_name), self)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\engine.py", line 175, in get_template
    template, origin = self.find_template(template_name)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\engine.py", line 157, in find_template
    template = loader.get_template(name, skip=skip)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loaders\cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loaders\base.py", line 28, in get_template
    return Template(
           ^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
                    ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 200, in compile_nodelist
    return parser.parse()
           ^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loader_tags.py", line 293, in do_extends
    nodelist = parser.parse()
               ^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\loader_tags.py", line 232, in do_block
    nodelist = parser.parse(("endblock",))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\defaulttags.py", line 853, in do_for
    nodelist_loop = parser.parse(
                    ^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 513, in parse
    raise self.error(token, e)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 511, in parse
    compiled_result = compile_func(self, token)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\defaulttags.py", line 952, in do_if
    condition = TemplateIfParser(parser, bits).parse()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\defaulttags.py", line 885, in __init__
    super().__init__(*args, **kwargs)
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\smartif.py", line 170, in __init__
    mapped_tokens.append(self.translate_token(token))
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\smartif.py", line 181, in translate_token
    return self.create_var(token)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\defaulttags.py", line 888, in create_var
    return TemplateLiteral(self.template_parser.compile_filter(value), value)
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 600, in compile_filter
    return FilterExpression(token, self)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\django\template\base.py", line 703, in __init__
    raise TemplateSyntaxError(
django.template.exceptions.TemplateSyntaxError: Could not parse the remainder: '[1]' from 'result[1]'
2024-09-14 14:56:00,013 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:56:00 BST)" (scheduled at 2024-09-14 14:56:00+01:00)
2024-09-14 14:56:00,013 - INFO - Running job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 14:56:00 BST)" (scheduled at 2024-09-14 14:56:00+01:00)
2024-09-14 14:56:00,166 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:56:00,167 - INFO - The input start time: 2024-09-14 13:00:00
2024-09-14 14:56:00,716 - ERROR - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 15:01:00 BST)" raised an exception
Traceback (most recent call last):
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\updater.py", line 73, in run_procedure_sequence
    run_IG(ticker)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\run_IG.py", line 166, in run_IG
    ig_service.create_session()
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 393, in create_session
    self._set_headers(response.headers, True)
  File "C:\Users\sunny\Desktop\Development\python\TradePro\prices\IG_session\ig_service.py", line 450, in _set_headers
    self.CLIENT_TOKEN = response_headers['CST']
                        ~~~~~~~~~~~~~~~~^^^^^^^
  File "C:\Users\sunny\anaconda3\envs\myenv311test\Lib\site-packages\requests\structures.py", line 52, in __getitem__
    return self._store[key.lower()][1]
           ~~~~~~~~~~~^^^^^^^^^^^^^
KeyError: 'cst'
2024-09-14 14:56:17,802 - INFO - Job "run_procedure_sequence (trigger: interval[0:05:00], next run at: 2024-09-14 15:01:00 BST)" executed successfully
2024-09-14 14:56:46,091 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-14 14:57:25,630 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:57:25,630 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:57:25,630 - INFO - Scheduler started
2024-09-14 14:57:27,938 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-14 14:57:27,938 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-14 14:57:27,938 - INFO - Scheduler started
2024-09-14 14:57:27,958 - INFO - Watching for file changes with StatReloader
2024-09-14 14:57:34,472 - WARNING - Not Found: /ml_models/ml-report/images/favicon.ico
2024-09-15 11:52:58,703 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 11:52:58,704 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 11:52:58,704 - INFO - Scheduler started
2024-09-15 11:53:01,247 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 11:53:01,248 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 11:53:01,248 - INFO - Scheduler started
2024-09-15 11:53:01,279 - INFO - Watching for file changes with StatReloader
2024-09-15 11:53:54,403 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 11:53:57,897 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 11:53:57,897 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 11:53:57,897 - INFO - Scheduler started
2024-09-15 11:53:57,926 - INFO - Watching for file changes with StatReloader
2024-09-15 12:01:39,004 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:01:39,004 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:01:39,004 - INFO - Scheduler started
2024-09-15 12:01:41,534 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:01:41,534 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:01:41,534 - INFO - Scheduler started
2024-09-15 12:01:41,558 - INFO - Watching for file changes with StatReloader
2024-09-15 12:02:00,568 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 12:02:04,091 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:02:04,091 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:02:04,091 - INFO - Scheduler started
2024-09-15 12:02:04,115 - INFO - Watching for file changes with StatReloader
2024-09-15 12:02:22,687 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 12:02:26,184 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:02:26,184 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:02:26,185 - INFO - Scheduler started
2024-09-15 12:02:26,206 - INFO - Watching for file changes with StatReloader
2024-09-15 12:03:05,482 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 12:03:09,026 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:03:09,027 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:03:09,027 - INFO - Scheduler started
2024-09-15 12:03:09,054 - INFO - Watching for file changes with StatReloader
2024-09-15 12:04:20,407 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 12:04:23,876 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:04:23,876 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:04:23,876 - INFO - Scheduler started
2024-09-15 12:04:23,899 - INFO - Watching for file changes with StatReloader
2024-09-15 12:04:44,928 - INFO - C:\Users\sunny\Desktop\Development\python\TradePro\ml_models\views.py changed, reloading.
2024-09-15 12:04:48,376 - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2024-09-15 12:04:48,376 - INFO - Added job "run_procedure_sequence" to job store "default"
2024-09-15 12:04:48,376 - INFO - Scheduler started
2024-09-15 12:04:48,400 - INFO - Watching for file changes with StatReloader
